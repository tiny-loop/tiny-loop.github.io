<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„œìš¸ ì•„ì´ë‘ ë¬¼ë†€ì´ ì§€ë„ (ëª¨ë°”ì¼ ìµœì í™”)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Slate, Amber, Teal) -->
    <!-- Application Structure Plan: This version is optimized for mobile-first viewing. The structure is a single-column, linear flow to facilitate easy scrolling. Key elements: 1) A simplified header. 2) Stacked filter controls that are sticky for constant access without taking up too much screen real estate. 3) A single-column card list for clear, sequential browsing of locations. 4) A full-screen modal for details to focus the user's attention. 5) A single, horizontally-scrollable chart for timeline data. This structure was chosen to eliminate horizontal scrolling and complex grids, providing the most intuitive experience on a narrow screen. -->
    <!-- Visualization & Content Choices: 
        - Report Info: List of all facilities. -> Goal: Find a place on mobile. -> Viz/Method: Single-column interactive card list. -> Interaction: Tap to view details in a modal. -> Justification: The most common and effective pattern for mobile list-detail views.
        - Report Info: Operating periods. -> Goal: Plan based on dates. -> Viz/Method: Horizontal Bar (Gantt-style) Chart (Chart.js). -> Interaction: Hover/tap tooltips. -> Justification: This remains the best way to show timelines. It is placed in a container that allows horizontal scrolling on mobile if needed, preventing layout breakage.
        - Removed: Distribution chart and AI Planner were removed as per user request to simplify the app.
        - Removed: The AI review summary in the modal was also removed to further streamline the experience and focus on core information.
        - All charts are implemented using the <canvas> element via Chart.js, adhering to the no-SVG/Mermaid constraint. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 400px; /* Taller for better readability of y-axis labels */
            max-height: 50vh;
        }
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-20">
        <div class="container mx-auto px-4 py-4 text-center">
            <h1 class="text-2xl font-bold text-teal-600">ğŸŒŠ ì„œìš¸ ì•„ì´ë‘ ë¬¼ë†€ì´ ì§€ë„</h1>
            <p class="text-slate-600 mt-1 text-sm">ëª¨ë°”ì¼ ìµœì í™” ë²„ì „</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4">
        
        <!-- Intro Text -->
        <section class="mb-6 p-4 bg-white rounded-lg shadow-sm">
            <h2 class="text-lg font-bold text-slate-700 mb-2">ìš°ë¦¬ ë™ë„¤ ë¬¼ë†€ì´í„°ë¥¼ ì°¾ì•„ë³´ì„¸ìš”!</h2>
            <p class="text-slate-600 text-sm">ì•„ë˜ í•„í„°ë¥¼ ì‚¬ìš©í•´ ì›í•˜ëŠ” ì¡°ê±´ì˜ ë¬¼ë†€ì´í„°ë¥¼ ì°¾ê³ , ì¹´ë“œë¥¼ ëˆŒëŸ¬ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
        </section>

        <!-- Filters -->
        <section id="filters" class="mb-6 p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-md sticky top-[76px] z-10">
            <div class="flex flex-col gap-4">
                <div>
                    <h3 class="font-bold mb-2 text-slate-700">ğŸ” ì§€ì—­ìœ¼ë¡œ ì°¾ê¸°</h3>
                    <div id="district-filters" class="flex flex-wrap gap-2">
                        <!-- District filter buttons will be inserted here -->
                    </div>
                </div>
                <div>
                    <h3 class="font-bold mb-2 text-slate-700">âš™ï¸ ìœ í˜•ìœ¼ë¡œ ì°¾ê¸°</h3>
                    <div id="type-filters" class="flex flex-wrap gap-2">
                        <!-- Type filter buttons will be inserted here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Results -->
        <section id="results-section">
            <div class="flex justify-between items-center mb-4 px-1">
                <h2 class="text-xl font-bold text-slate-700">ê²€ìƒ‰ ê²°ê³¼</h2>
                <div id="results-count" class="text-slate-600 font-semibold"></div>
            </div>
            <div id="results-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Water play location cards will be inserted here -->
            </div>
        </section>
        
        <!-- Charts Section -->
        <section id="charts" class="my-12">
            <div class="bg-white p-4 rounded-lg shadow-sm">
                <h3 class="text-lg font-bold text-center mb-2">ì£¼ìš” ì‹œì„¤ ìš´ì˜ ê¸°ê°„</h3>
                <p class="text-center text-xs text-slate-500 mb-4">7ì›” 1ì¼ë¶€í„° 8ì›” 31ì¼ê¹Œì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>
        </section>
        
        <!-- Expert Recommendations -->
        <section class="mt-12 p-6 bg-white rounded-lg shadow-sm">
            <h2 class="text-xl font-bold text-center mb-6 text-slate-700">ğŸ’¡ ì „ë¬¸ê°€ ì¶”ì²œ: ì´ëŸ´ ë• ì—¬ê¸°!</h2>
            <div id="recommendation-tabs" class="flex flex-wrap justify-center gap-2 mb-6">
                <!-- Recommendation tabs will be inserted here -->
            </div>
            <div id="recommendation-content" class="text-slate-600 p-4 bg-slate-50 rounded-md transition-all">
                <!-- Recommendation content will be displayed here -->
            </div>
        </section>

    </main>
    
    <!-- Footer / Checklist -->
    <footer class="bg-slate-800 text-white mt-12 py-8 px-4">
        <div class="container mx-auto">
            <h2 class="text-xl font-bold text-center mb-6">âœ… ë¬¼ë†€ì´ ì¤€ë¹„ë¬¼ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
            <div class="max-w-2xl mx-auto grid grid-cols-2 gap-4 text-slate-200 text-sm">
                <div class="flex items-center"><span class="mr-2">ğŸ‘•</span><span>ìˆ˜ì˜ë³µ, ë˜ì‰¬ê°€ë“œ</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ§¢</span><span>ìˆ˜ì˜ëª¨ (í•„ìˆ˜!)</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ‘Ÿ</span><span>ì•„ì¿ ì•„ìŠˆì¦ˆ, í¬ë¡ìŠ¤</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ›</span><span>ìˆ˜ê±´ (ë„‰ë„‰í•˜ê²Œ)</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ‘š</span><span>ê°ˆì•„ì…ì„ ì˜·</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ§´</span><span>ìì™¸ì„  ì°¨ë‹¨ì œ</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ©¹</span><span>ê°„ë‹¨í•œ êµ¬ê¸‰ì•½</span></div>
                <div class="flex items-center"><span class="mr-2">ğŸ’§</span><span>ë§ˆì‹¤ ë¬¼, ê°„ì‹</span></div>
                <div class="flex items-center"><span class="mr-2">ë—</span><span>ë—ìë¦¬</span></div>
            </div>
            <p class="text-center text-slate-400 mt-8 text-xs">
                ë³¸ ì •ë³´ëŠ” 'ê¶ê·¹ì˜ 2025 ì—¬ë¦„ ë°”ìº‰ìŠ¤ ê°€ì´ë“œ' ë³´ê³ ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                ì¶œë°œ ì „ ê° ì‹œì„¤ì˜ ê³µì‹ í™ˆí˜ì´ì§€ë‚˜ êµ¬ì²­ ê³µì§€ì‚¬í•­ì—ì„œ ìµœì‹  ìš´ì˜ ì •ë³´ë¥¼ ê¼­ í™•ì¸í•˜ì„¸ìš”.
            </p>
        </div>
    </footer>


    <!-- Modal -->
    <div id="modal" class="modal fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 opacity-0 pointer-events-none">
        <div id="modal-content" class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto transform scale-95">
            <!-- Modal content will be injected here -->
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const locations = [
            { id: 1, name: 'ì¤‘ì•™ê·¼ë¦°ê³µì›', district: 'ì„œëŒ€ë¬¸êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [15, 46], features: 'ì¡°í•©ë†€ì´ëŒ€, ê¸°ì¡´ ì¸ê¸° ì¥ì†Œ', address: 'ë¶ê°€ì¢Œ1ë™ 480', hours: '12:30 ~ 17:30', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'ì•¼ì™¸ ìƒ¤ì›Œê¸°, ê°„ì´ íƒˆì˜ì‹¤, ê·¸ëŠ˜ë§‰ ë“± í¸ì˜ì‹œì„¤ êµ¬ë¹„. ë§¤ì¼ ìˆ˜ë—ë¬¼ êµì²´.' },
            { id: 2, name: 'ê°€ì¬ìš¸ì–´ë¦°ì´ê³µì›', district: 'ì„œëŒ€ë¬¸êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [15, 46], features: 'â­ ìœ ì•„ ì „ìš© í’€ì¥ ë³´ìœ ', address: 'ë‚¨ê°€ì¢Œ1ë™ 385-2', hours: '12:30 ~ 17:30', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'ì–´ë¦° ìë…€ë¥¼ ë‘” ê°€ì¡±ì—ê²Œ ìµœì . ì•ˆì „ê´€ë¦¬ìš”ì› ìƒì‹œ ë°°ì¹˜.' },
            { id: 3, name: 'ë¬¸í™”ì´Œì–´ë¦°ì´ê³µì›', district: 'ì„œëŒ€ë¬¸êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [15, 46], features: 'ë¯¸ë„ëŸ¼í‹€, ì‘ì€ ë¬¼í­í¬ ì¡°í•©', address: 'í™ì œ3ë™ 277-82', hours: '12:30 ~ 17:30', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'ë‹¤ì±„ë¡œìš´ ë†€ì´ ê²½í—˜ ì œê³µ.' },
            { id: 4, name: 'í•´ë‹¬ë³„ì–´ë¦°ì´ê³µì›', district: 'ì„œëŒ€ë¬¸êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [15, 46], features: '2024ë…„ ì‹ ê·œ ê°œì¥', address: 'ì—°í¬ë™ 747-1', hours: '12:30 ~ 17:30', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'ìƒˆë¡œìš´ ì‹œì„¤ë¡œ ì¾Œì í•¨ ê¸°ëŒ€.' },
            { id: 5, name: 'ì€ê°€ì–´ë¦°ì´ê³µì›', district: 'ì„œëŒ€ë¬¸êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [15, 46], features: '2024ë…„ ì‹ ê·œ ê°œì¥', address: 'ë¶ê°€ì¢Œ2ë™ 3-39', hours: '12:30 ~ 17:30', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'ìƒí™œë°€ì°©í˜• ê³µê³µ ì„œë¹„ìŠ¤ í™•ëŒ€ ì‚¬ë¡€.' },
            { id: 6, name: 'ë§¤ë°”ìœ„ì–´ë¦°ì´ê³µì›', district: 'ì€í‰êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [5, 48], features: 'ë¹„êµì  í° ë†€ì´ê¸°êµ¬', address: 'ì€í‰êµ¬', hours: '12:00 ~ 17:00 (50ë¶„ ê°€ë™, 10ë¶„ íœ´ì‹)', closed: '7/27ê¹Œì§€ ì£¼ë§ë§Œ, ì´í›„ ë§¤ì¼ ìš´ì˜', fee: 'ë¬´ë£Œ', note: 'âš ï¸ ì£¼ì°¨ì¥, í™”ì¥ì‹¤ ì—†ìŒ. ë„ë³´ ì ‘ê·¼ ê¶Œì¥.' },
            { id: 7, name: 'ëŒ€ì¡°ì–´ë¦°ì´ê³µì›', district: 'ì€í‰êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [5, 48], features: 'ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜ë˜ëŠ” ì‹œì„¤', address: 'ëŒ€ì¡°ë™ ì—°ì„œë¡œ**ê¸¸ *-**', hours: '12:00 ~ 17:00', closed: '7/27ê¹Œì§€ ì£¼ë§ë§Œ, ì´í›„ ë§¤ì¼ ìš´ì˜', fee: 'ë¬´ë£Œ', note: '7ì„¸ ì´í•˜ëŠ” ë³´í˜¸ì ë™ë°˜ í•„ìˆ˜.' },
            { id: 8, name: 'ì€í‰í‰í™”ê³µì›', district: 'ì€í‰êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [5, 48], features: 'ì—­ì´Œì—­ ì¸ê·¼, ëŒ€ì¤‘êµí†µ í¸ë¦¬', address: 'ì—­ì´Œë™ í†µì¼ë¡œ62ê¸¸ 17', hours: '12:00 ~ 17:00', closed: '7/27ê¹Œì§€ ì£¼ë§ë§Œ, ì´í›„ ë§¤ì¼ ìš´ì˜', fee: 'ë¬´ë£Œ', note: 'ë§¤ì¼ ìš©ìˆ˜ êµì²´ ë° 2ì£¼ 1íšŒ ìˆ˜ì§ˆê²€ì‚¬ ì‹¤ì‹œ.' },
            { id: 9, name: 'êµ¬ì‚°ë™ë§ˆì„ê³µì›', district: 'ì€í‰êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [5, 48], features: 'ìœ ë£Œì£¼ì°¨ì¥/í™”ì¥ì‹¤ ìˆìŒ', address: 'êµ¬ì‚°ë™ ê°ˆí˜„ë¡œ15ê¸¸ 27-1', hours: '12:00 ~ 17:00', closed: '7/27ê¹Œì§€ ì£¼ë§ë§Œ, ì´í›„ ë§¤ì¼ ìš´ì˜', fee: 'ë¬´ë£Œ', note: 'ìˆ˜ì‹¬ì´ ì–•ì•„ ì˜ìœ ì•„ì—ê²Œ ë” ì í•©.' },
            { id: 10, name: 'ì‹ ë„ê·¼ë¦°ê³µì›', district: 'ì€í‰êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [5, 48], features: 'â­ ë³´í˜¸ììš© ì¹œìˆ˜ê³µê°„', address: 'ì‹ ì‚¬ë™ ì‚°80-4', hours: '12:00 ~ 17:00', closed: '7/27ê¹Œì§€ ì£¼ë§ë§Œ, ì´í›„ ë§¤ì¼ ìš´ì˜', fee: 'ë¬´ë£Œ', note: 'ì–´ë¦° ì•„ì´ì™€ í•¨ê»˜ ë°œ ë‹´ê·¸ê³  ì‰¬ê¸° ì¢‹ìŒ.' },
            { id: 11, name: 'ì‹ í¥ì–´ë¦°ì´ê³µì›', district: 'ì€í‰êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [5, 48], features: 'â­ ë³´í˜¸ììš© ì¹œìˆ˜ê³µê°„', address: 'ì¦ì‚°ë¡œ19ê¸¸ 28-12', hours: '12:00 ~ 17:00', closed: '7/27ê¹Œì§€ ì£¼ë§ë§Œ, ì´í›„ ë§¤ì¼ ìš´ì˜', fee: 'ë¬´ë£Œ', note: 'ì‹ ë„ê·¼ë¦°ê³µì›ê³¼ ìœ ì‚¬í•œ ì»¨ì…‰.' },
            { id: 12, name: 'ì—°ì§€ë¬¼ë†€ì´í„°', district: 'ì¢…ë¡œêµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [15, 62], features: 'ëŒ€í˜• ì¡°í•©ë†€ì´ëŒ€, ìŠ¬ë¼ì´ë“œ, í„°ë„ë¶„ìˆ˜', address: 'ì—°ì§€ë™ 1-38', hours: '10:00 ~ 17:00', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'ì¢…ë¡œêµ¬ ìµœì´ˆ ë³¸ê²© ë¬¼ë†€ì´ì¥. ì£¼ë§ í˜¼ì¡ ì˜ˆìƒ, ì£¼ì°¨ ì–´ë ¤ì›€.' },
            { id: 13, name: 'íš¨ì°½/ì‘ë´‰ê³µì› ë¬¼ë†€ì´ì¥', district: 'ìš©ì‚°êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [25, 46], features: 'ì—¬ë¦„ë°©í•™ ë‹¨ê¸° ì§‘ì¤‘ ìš´ì˜', address: 'íš¨ì°½ì›ë¡œ 177-18', hours: '10:00 ~ 17:00', closed: 'ì—†ìŒ', fee: 'ë¬´ë£Œ', note: '36ê°œì›”~13ì„¸ ì´ìš© ê°€ëŠ¥. ì„ì‹œ ê°„ì´ ìˆ˜ì˜ì¥ í˜•íƒœ.' },
            { id: 14, name: 'ìš©ì‚°ì–´ë¦°ì´ì •ì›', district: 'ìš©ì‚°êµ¬', type: 'íŠ¹ë³„ ì²´í—˜/ì¶•ì œ', period: [5, 62], features: 'ë„“ê³  ì–•ì€ ë¶„ìˆ˜í˜•, ìµœìƒê¸‰ í¸ì˜ì‹œì„¤', address: 'ìš©ì‚°ì–´ë¦°ì´ì •ì› ë‚´', hours: 'ìš”ì¼ë³„ ìƒì´', closed: 'ì›”ìš”ì¼', fee: 'ë¬´ë£Œ', note: 'âš ï¸ ë°©ë¬¸ ìì²´ì— ì‚¬ì „ ì˜ˆì•½ ë° ì„±ì¸ ì‹ ë¶„ì¦ í•„ìˆ˜! (yongsanparkstory.kr)' },
            { id: 15, name: 'ë³„ë¹›ë‚´ë¦°ì²œ ë¬¼ë†€ì´ì¥', district: 'ê´€ì•…êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [1, 62], features: '9ì„¸ ì´í•˜ ë§ì¶¤, ì ‘ê·¼ì„± ìš°ìˆ˜', address: 'ì‹ ë¦¼ë™ 1642-7', hours: '10:00 ~ 18:00', closed: 'ìš°ì²œ ì‹œ', fee: 'ë¬´ë£Œ', note: 'ì‹ ë¦¼ì—­, ìˆœëŒ€íƒ€ìš´ ì¸ì ‘. ìœ„ìƒ ê´€ë¦¬ ì² ì €.' },
            { id: 16, name: 'ê´€ì•…êµ¬ ì‹ ê·œ ë¬¼ë†€ì´í„°', district: 'ê´€ì•…êµ¬', type: 'ë¬´ë£Œ ë™ë„¤ ë†€ì´í„°', period: [19, 62], features: 'ë‚™ì„±ëŒ€, ê´€ì•…ì‚°ê³µì› ë“± 6ê³³ ì¶”ê°€ ê°œì¥', address: 'ê´€ì•…êµ¬ ì „ì—­', hours: 'ë¯¸ì •', closed: 'ë¯¸ì •', fee: 'ë¬´ë£Œ', note: '7ì›” 19ì¼ë¶€í„° ìˆœì°¨ ê°œì¥ ì˜ˆì •.' },
            { id: 17, name: 'ë‚œì§€í•œê°•ê³µì› ë¬¼ë†€ì´ì¥', district: 'ë§ˆí¬êµ¬', type: 'ëŒ€í˜• ê³µì›/ìˆ˜ì˜ì¥', period: [20, 62], features: 'í•œê°•ë·° ì¸í”¼ë‹ˆí‹°í’€, ì–•ì€ ìˆ˜ì‹¬ (80cm)', address: 'ìƒì•”ë™ 482-182', hours: '09:00 ~ 18:00', closed: 'ì—†ìŒ', fee: 'ìœ ë£Œ', note: 'ë„¤ì´ë²„ ì˜ˆì•½ ê¶Œì¥. ë‹¤ìë…€ í• ì¸ ë“± í™•ì¸. ë°°ë‹¬ìŒì‹/ì£¼ë¥˜ ë°˜ì… ê¸ˆì§€.' },
            { id: 18, name: 'í‚¤ì¦ˆí’€ ì•Œë¡œí•˜ì„œìš¸', district: 'ë§ˆí¬êµ¬', type: 'í”„ë¼ì´ë¹—/ì‹¤ë‚´', period: [1, 62], features: 'ì™„ì „í•œ í”„ë¼ì´ë¹— ê³µê°„, ì™„ë²½í•œ í¸ì˜ì‹œì„¤', address: 'ë…ë§‰ë¡œ 291', hours: 'ì‹œê°„ ë‹¨ìœ„ ëŒ€ì—¬', closed: 'ì˜ˆì•½ì— ë”°ë¦„', fee: 'ìœ ë£Œ (ê³ ê°€)', note: 'ìƒì¼íŒŒí‹°, ë¹„ ì˜¤ëŠ” ë‚  ì¶”ì²œ. ë„¤ì´ë²„ ì˜ˆì•½.' },
            { id: 19, name: 'í•œê°•í˜ìŠ¤í‹°ë²Œ ì—¬ë¦„', district: 'ì„œìš¸ ì „ì—­', type: 'íŠ¹ë³„ ì²´í—˜/ì¶•ì œ', period: [32, 48], features: 'ì¹´ì•½, ì˜í™”ì œ, ìŒì•…í”¼í¬ë‹‰ ë“±', address: 'í•œê°•ê³µì› ì „ì—­', hours: 'í”„ë¡œê·¸ë¨ë³„ ìƒì´', closed: 'ì—†ìŒ', fee: 'ì¼ë¶€ ìœ ë£Œ', note: '8ì›” 1ì¼ë¶€í„° 17ì¼ê¹Œì§€. ì˜¨ê°€ì¡± ì—¬ë¦„ ì¶•ì œ.' },
            { id: 20, name: 'ì§„ê´€ì‚¬ ê³„ê³¡', district: 'ì€í‰êµ¬', type: 'íŠ¹ë³„ ì²´í—˜/ì¶•ì œ', period: [1, 62], features: 'ìì—° ê³„ê³¡, ì–•ì€ ë¬¼', address: 'ì§„ê´€ë™', hours: 'ìƒì‹œ', closed: 'ì—†ìŒ', fee: 'ë¬´ë£Œ', note: 'ìì—° ì†ì—ì„œ ì¦ê¸°ëŠ” ì•ˆì „í•œ ë¬¼ë†€ì´.' }
        ];

        const districts = ['ì „ì²´', ...new Set(locations.map(l => l.district))];
        const types = ['ì „ì²´', ...new Set(locations.map(l => l.type))];
        
        const districtFilters = document.getElementById('district-filters');
        const typeFilters = document.getElementById('type-filters');
        const resultsGrid = document.getElementById('results-grid');
        const resultsCount = document.getElementById('results-count');

        let activeDistrictFilter = 'ì „ì²´';
        let activeTypeFilter = 'ì „ì²´';

        function createFilterButtons() {
            districtFilters.innerHTML = '';
            typeFilters.innerHTML = '';
            districts.forEach(district => {
                const button = document.createElement('button');
                button.className = `px-3 py-1 text-xs font-semibold border rounded-full transition-colors ${activeDistrictFilter === district ? 'bg-teal-500 text-white border-teal-500' : 'border-slate-300 bg-white'}`;
                button.textContent = district;
                button.dataset.filter = district;
                button.dataset.type = 'district';
                districtFilters.appendChild(button);
            });
            types.forEach(type => {
                const button = document.createElement('button');
                button.className = `px-3 py-1 text-xs font-semibold border rounded-full transition-colors ${activeTypeFilter === type ? 'bg-teal-500 text-white border-teal-500' : 'border-slate-300 bg-white'}`;
                button.textContent = type;
                button.dataset.filter = type;
                button.dataset.type = 'type';
                typeFilters.appendChild(button);
            });
        }

        function handleFilterClick(e) {
            if (e.target.tagName !== 'BUTTON') return;
            const button = e.target;
            const filter = button.dataset.filter;
            const type = button.dataset.type;

            if (type === 'district') {
                activeDistrictFilter = filter;
            } else {
                activeTypeFilter = filter;
            }
            createFilterButtons();
            renderCards();
        }

        districtFilters.addEventListener('click', handleFilterClick);
        typeFilters.addEventListener('click', handleFilterClick);

        function renderCards() {
            resultsGrid.innerHTML = '';
            const filteredLocations = locations.filter(location => {
                const districtMatch = activeDistrictFilter === 'ì „ì²´' || activeDistrictFilter === location.district;
                const typeMatch = activeTypeFilter === 'ì „ì²´' || activeTypeFilter === location.type;
                return districtMatch && typeMatch;
            });
            
            resultsCount.textContent = `ì´ ${filteredLocations.length}ê°œ`;

            if(filteredLocations.length === 0) {
                resultsGrid.innerHTML = `<p class="text-slate-500 col-span-full text-center py-10">ì„ íƒí•œ ì¡°ê±´ì— ë§ëŠ” ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>`;
                return;
            }

            filteredLocations.forEach(location => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-sm p-4 flex flex-col justify-between cursor-pointer transition-transform transform hover:scale-105 active:scale-95';
                card.dataset.id = location.id;
                
                let feeTag = location.fee === 'ë¬´ë£Œ' 
                    ? `<span class="bg-amber-100 text-amber-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">ğŸ’§ ë¬´ë£Œ</span>`
                    : `<span class="bg-rose-100 text-rose-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">ğŸŸï¸ ìœ ë£Œ</span>`;
                
                let reservationTag = location.note && location.note.includes('ì˜ˆì•½') 
                    ? `<span class="bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">ğŸ“… ì˜ˆì•½</span>` 
                    : '';

                card.innerHTML = `
                    <div>
                        <h3 class="font-bold text-base mb-1 text-slate-900">${location.name}</h3>
                        <p class="text-xs text-slate-500 mb-2">${location.district} | ${location.type}</p>
                        <p class="text-sm text-slate-700 mb-3">${location.features}</p>
                    </div>
                    <div class="flex flex-wrap items-center mt-auto pt-2 border-t border-slate-100">
                        ${feeTag}
                        ${reservationTag}
                    </div>
                `;
                resultsGrid.appendChild(card);
            });
        }
        
        // Modal Logic
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');

        resultsGrid.addEventListener('click', (e) => {
            const card = e.target.closest('.cursor-pointer');
            if (card) {
                const locationId = parseInt(card.dataset.id);
                const location = locations.find(l => l.id === locationId);
                openModal(location);
            }
        });
        
        function openModal(location) {
            modalContent.innerHTML = `
                <div class="p-5">
                    <div class="flex justify-between items-start mb-4">
                        <h2 class="text-xl font-bold text-teal-700 pr-4">${location.name}</h2>
                        <button id="closeModal" class="text-4xl font-light text-slate-400 hover:text-slate-800">&times;</button>
                    </div>
                    <div class="space-y-3 text-slate-700 text-sm">
                        <p><strong class="w-20 inline-block text-slate-500">ğŸ“ ìœ„ì¹˜</strong> ${location.address}</p>
                        <p><strong class="w-20 inline-block text-slate-500">â° ì‹œê°„</strong> ${location.hours}</p>
                        <p><strong class="w-20 inline-block text-slate-500">ğŸ—“ï¸ íœ´ì¥</strong> ${location.closed}</p>
                        <p><strong class="w-20 inline-block text-slate-500">ğŸ’° ìš”ê¸ˆ</strong> ${location.fee}</p>
                        <p><strong class="w-20 inline-block text-slate-500">âœ¨ íŠ¹ì§•</strong> ${location.features}</p>
                        <div class="mt-4 pt-3 border-t">
                            <strong class="text-slate-600">ğŸ’¡ Tip</strong>
                            <p class="text-slate-600 mt-1">${location.note || 'íŠ¹ë³„í•œ ìœ ì˜ì‚¬í•­ ì—†ìŒ'}</p>
                        </div>
                    </div>
                </div>`;
            modal.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('scale-95');
            document.getElementById('closeModal').addEventListener('click', closeModal);
        }

        function closeModal() {
            modal.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95');
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
        
        // Chart.js implementation
        function createTimelineChart() {
            const ctx = document.getElementById('timelineChart').getContext('2d');
            const timelineData = locations
                .filter(l => l.period && l.period.length === 2 && !l.name.includes('ì‹ ê·œ'))
                .map(l => ({
                    y: l.name,
                    x: [new Date(2025, 6, l.period[0]), new Date(2025, 6, l.period[1])]
                }));

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: timelineData.map(d => d.y),
                    datasets: [{
                        label: 'ìš´ì˜ ê¸°ê°„',
                        data: timelineData.map(d => d.x),
                        backgroundColor: 'rgba(245, 158, 11, 0.6)', // amber-500
                        borderColor: 'rgba(180, 83, 9, 1)', // amber-700
                        borderWidth: 1,
                        barPercentage: 0.6,
                        categoryPercentage: 0.7
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'time',
                            time: { unit: 'week', tooltipFormat: 'PP' },
                            min: '2025-07-01',
                            max: '2025-08-31',
                            title: { display: false }
                        },
                        y: {
                            ticks: {
                                font: { size: 10 }
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const start = new Date(context.raw[0]).toLocaleDateString('ko-KR', { month: 'long', day: 'numeric' });
                                    const end = new Date(context.raw[1]).toLocaleDateString('ko-KR', { month: 'long', day: 'numeric' });
                                    return `ìš´ì˜: ${start} ~ ${end}`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Recommendations logic
        const recommendations = {
            'ğŸ‘¶ ì˜ìœ ì•„ ë™ë°˜': { text: 'ìˆ˜ì‹¬ì´ ì–•ê³  ì•ˆì „í•œ ì‹œì„¤ì´ ì¤‘ìš”í•´ìš”. ìœ ì•„ ì „ìš© í’€ì´ë‚˜ ë³´í˜¸ìê°€ í•¨ê»˜ ì‰´ ìˆ˜ ìˆëŠ” ì¹œìˆ˜ê³µê°„ì´ ìˆëŠ” ê³³ì„ ì¶”ì²œí•©ë‹ˆë‹¤.', ids: [2, 9, 10, 11, 15] },
            'ğŸ¤¸ í™œë™ì ì¸ ì•„ì´': { text: 'ì—ë„ˆì§€ê°€ ë„˜ì¹˜ëŠ” ì•„ì´ë“¤ì„ ìœ„í•´! ëŒ€í˜• ë†€ì´ê¸°êµ¬ë‚˜ ìŠ¬ë¼ì´ë“œ ë“± ë‹¤ì±„ë¡œìš´ ì‹œì„¤ì´ ìˆëŠ” ê³³ì´ ì¢‹ìŠµë‹ˆë‹¤.', ids: [1, 12, 17] },
            'ğŸ“… ì˜ˆì•½/ê³„íš í•„ìˆ˜': { text: 'ìµœê³ ì˜ ê²½í—˜ì„ ìœ„í•´ì„  ì•½ê°„ì˜ ì¤€ë¹„ê°€ í•„ìš”í•´ìš”. ì˜ˆì•½ì´ í•„ìˆ˜ê±°ë‚˜ ì¸ê¸°ê°€ ë§ì•„ ì¼ì° ì¶œë°œí•´ì•¼ í•˜ëŠ” ê³³ë“¤ì…ë‹ˆë‹¤.', ids: [14, 17, 18] },
            'ğŸŒ§ï¸ ë¹„ ì˜¤ëŠ” ë‚ ': { text: 'ë‚ ì”¨ ê±±ì • ì—†ì´ ë¬¼ë†€ì´ë¥¼ ì¦ê¸°ê³  ì‹¶ë‹¤ë©´? í”„ë¼ì´ë¹—í•œ ì‹¤ë‚´ ì›Œí„°ë£¸ì´ ì™„ë²½í•œ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆì–´ìš”.', ids: [18] }
        };

        const recTabs = document.getElementById('recommendation-tabs');
        const recContent = document.getElementById('recommendation-content');
        
        Object.keys(recommendations).forEach(key => {
            const tab = document.createElement('button');
            tab.className = 'px-4 py-2 text-sm font-semibold border border-slate-300 rounded-full transition-colors bg-white hover:bg-slate-100';
            tab.textContent = key;
            tab.dataset.rec = key;
            recTabs.appendChild(tab);
        });

        recTabs.addEventListener('click', e => {
            if (e.target.tagName === 'BUTTON') {
                const recKey = e.target.dataset.rec;
                const recData = recommendations[recKey];
                
                Array.from(recTabs.children).forEach(child => child.classList.remove('bg-amber-400', 'text-slate-900', 'border-amber-400'));
                e.target.classList.add('bg-amber-400', 'text-slate-900', 'border-amber-400');

                let contentHtml = `<p class="mb-4 text-sm">${recData.text}</p><ul class="list-disc list-inside space-y-2 text-sm">`;
                recData.ids.forEach(id => {
                    const loc = locations.find(l => l.id === id);
                    if (loc) contentHtml += `<li class="hover:text-teal-600 cursor-pointer" data-id="${loc.id}">${loc.name} (${loc.district})</li>`;
                });
                contentHtml += '</ul>';
                recContent.innerHTML = contentHtml;
            }
        });
        
        recContent.addEventListener('click', e => {
            if (e.target.tagName === 'LI' && e.target.dataset.id) {
                const locationId = parseInt(e.target.dataset.id);
                const location = locations.find(l => l.id === locationId);
                openModal(location);
            }
        });
        
        // Initial setup
        if (recTabs.children[0]) {
            recTabs.children[0].click();
        }
        createFilterButtons();
        renderCards();
        createTimelineChart();
    });
    </script>
</body>
</html>
